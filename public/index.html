<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
		/>
		<title>Zenith | AC</title>
		<link rel="shortcut icon" href="Zenith.png" />
	
		<script src="/scram/scramjet.all.js"></script>
		<script src="/baremux/index.js"></script>
		
		<link rel="stylesheet" href="index.css" />
		<script src="register-sw.js" defer></script>
		<script src="search.js" defer></script>
		<script src="index.js" defer></script>
		
		<style>
			/* Black background theme */
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
			
			body {
				background-color: #000 !important;
				color: white !important;
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
				min-height: 100vh;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				padding: 40px 20px;
				overflow-x: hidden;
			}
			
			/* Make sure everything centers properly */
			.logo-wrapper {
				text-align: center;
				margin-bottom: 30px;
				width: 100%;
			}
			
			.logo-wrapper .logo {
				width: 150px;
				height: auto;
				display: block;
				margin: 0 auto 20px auto;
			}
			
			.logo-wrapper h1 {
				color: white;
				font-size: 3rem;
				letter-spacing: 5px;
				margin-top: 10px;
			}
			
			.desc {
				text-align: center;
				max-width: 600px;
				margin: 20px auto;
			}
			
			.desc p {
				color: #ccc;
				font-size: 14px;
				line-height: 1.6;
			}
			
			#sj-form {
				width: 100%;
				display: flex;
				justify-content: center;
				margin: 30px 0;
			}
			
			#sj-address {
				width: 500px;
				max-width: 90%;
				background: #0a0a0a;
				border: 1px solid #333;
				color: white;
				padding: 15px 25px;
				border-radius: 30px;
				font-size: 18px;
			}
			
			#sj-address:focus {
				border-color: #555;
				outline: none;
			}
			
			#sj-error, #sj-error-code {
				color: #ff6b6b;
				text-align: center;
			}
			
			footer {
				color: #666;
				text-align: center;
				margin-top: auto;
				padding: 20px;
				font-size: 12px;
			}
			
			footer a {
				color: #888;
				text-decoration: none;
			}
			
			footer a:hover {
				color: white;
			}
			
			/* Navbar styles */
			.zenith-navbar {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				height: 45px;
				background: #0a0a0a;
				display: none; /* Hidden by default, shown when browsing */
				align-items: center;
				justify-content: space-between;
				padding: 0 20px;
				border-bottom: 1px solid #1a1a1a;
				z-index: 10000; /* Higher than iframe */
			}
			
			.zenith-navbar.visible {
				display: flex;
			}
			
			.nav-left { 
				display: flex; 
				align-items: center; 
				cursor: pointer; 
			}
			
			.nav-logo { 
				height: 25px; 
				margin-right: 10px; 
			}
			
			.nav-title { 
				font-weight: bold; 
				letter-spacing: 1px;
				color: white;
			}
			
			.nav-center { 
				flex-grow: 1; 
				display: flex; 
				justify-content: center; 
			}
			
			.nav-input {
				width: 400px;
				background: #151515;
				border: 1px solid #333;
				color: white;
				padding: 5px 15px;
				border-radius: 20px;
				outline: none;
			}
			
			.nav-input:focus {
				border-color: #555;
			}
			
			.nav-btn {
				background: transparent;
				border: none;
				color: #888;
				margin-left: 15px;
				cursor: pointer;
				font-size: 12px;
			}
			
			.nav-btn:hover { 
				color: white; 
			}
			
			/* Adjust iframe when navbar is visible */
			#sj-frame {
				position: fixed !important;
				top: 0 !important;
				left: 0 !important;
				width: 100% !important;
				height: 100vh !important;
				border: none !important;
				z-index: 9000 !important; /* Below navbar */
			}
			
			body.browsing #sj-frame {
				top: 45px !important;
				height: calc(100vh - 45px) !important;
			}
		</style>
	</head>
	<body>
		<!-- Navbar (hidden by default, shows when browsing) -->
		<nav class="zenith-navbar" id="zenith-navbar">
			<div class="nav-left" onclick="window.zenithGoHome()">
				<img src="Zenith.png" class="nav-logo" alt="Zenith">
				<span class="nav-title">ZENITH</span>
			</div>
			<div class="nav-center">
				<form id="nav-form" onsubmit="return window.zenithNavSearch(event)">
					<input id="nav-address" type="text" placeholder="Search with Zenith..." class="nav-input">
				</form>
			</div>
			<div class="nav-right">
				<button onclick="window.zenithGoHome()" class="nav-btn" type="button">üè† HOME</button>
			</div>
		</nav>
	
		<div style="width: 100%; max-width: 800px; margin: auto;">
			<div class="logo-wrapper">
				<img class="logo" src="Zenith.png" alt="Zenith" />
				<h1>ZENITH | AC</h1>
			</div>
			<div class="desc">
				<p>
					Scramjet is an experimental interception based web proxy designed to
					evade internet censorship, bypass arbitrary web browser restrictions and
					innovate web proxy technologies.
				</p>
			</div>
			<form id="sj-form">
				<input
					id="sj-search-engine"
					value="https://www.google.com/search?q=%s"
					type="hidden"
				/>
				<input id="sj-address" type="text" placeholder="Explore the web freely..." />
			</form>
			<div class="desc">
				<p id="sj-error"></p>
				<pre id="sj-error-code"></pre>
			</div>
		</div>
		<footer>
			<div>
				<span>Zenith &copy; 2026</span>
			</div>
		</footer>
		
		<script>
			// Navbar functionality - doesn't interfere with Scramjet
			window.zenithNavSearch = function(event) {
				event.preventDefault();
				const navInput = document.getElementById('nav-address');
				const mainInput = document.getElementById('sj-address');
				if (navInput.value && mainInput) {
					mainInput.value = navInput.value;
					document.getElementById('sj-form').dispatchEvent(new Event('submit', { bubbles: true, cancelable: true }));
				}
				return false;
			};
			
			window.zenithGoHome = function() {
				location.reload();
			};
			
			// Show navbar when iframe becomes visible, hide home content
			function updateUIState() {
				const frame = document.getElementById('sj-frame');
				const navbar = document.getElementById('zenith-navbar');
				const homeContent = document.querySelector('body > div[style*="max-width"]');
				const footer = document.querySelector('footer');
				
				if (frame && navbar) {
					// Check if iframe is visible and has content
					const isBrowsing = frame.style.display === 'block' || (frame.style.display !== 'none' && frame.src);
					
					if (isBrowsing) {
						// Browsing mode: show navbar, hide home content
						navbar.classList.add('visible');
						navbar.style.display = 'flex';
						document.body.classList.add('browsing');
						if (homeContent) homeContent.style.display = 'none';
						if (footer) footer.style.display = 'none';
						console.log('Navbar shown - browsing mode');
					} else {
						// Home mode: hide navbar, show home content
						navbar.classList.remove('visible');
						navbar.style.display = 'none';
						document.body.classList.remove('browsing');
						if (homeContent) homeContent.style.display = 'block';
						if (footer) footer.style.display = 'block';
						console.log('Navbar hidden - home mode');
					}
				}
			}
			
			const observer = new MutationObserver(updateUIState);
			
			// Start observing once the iframe exists
			window.addEventListener('load', () => {
				const frame = document.getElementById('sj-frame');
				if (frame) {
					observer.observe(frame, { attributes: true, attributeFilter: ['style', 'src'] });
					// Also check immediately
					updateUIState();
				}
				
				// Check periodically in case the mutation observer misses something
				setInterval(updateUIState, 500);
			});
		</script>
	</body>
</html>
